# PostgreSQL (DW)
POSTGRES_USER=dw_user
POSTGRES_PASSWORD=dw_password
POSTGRES_DB=dw_db

# Mage -> Postgres connection
PGHOST=postgres
PGPORT=5432
PGUSER=dw_user
PGPASSWORD=dw_password
PGDATABASE=dw_db

# Source Data

# ================================
# ETL - PERFIS DE CONEXÃO
# ================================
# Perfis habilitados para teste/configuração
ETL_CONNECTION_PROFILES=default,sharepoint_demo,rest_demo

# ---------- SOURCE (DATABASE) ----------
# Tipo de fonte: database | sharepoint | rest
ETL_SRC_TYPE=database
ETL_SRC_DB_TYPE=mssql
ETL_SRC_HOST=localhost
ETL_SRC_PORT=1433
ETL_SRC_DATABASE=source_db
ETL_SRC_USERNAME=source_user
ETL_SRC_PASSWORD=source_password
ETL_SRC_DRIVER=ODBC Driver 18 for SQL Server
ETL_SRC_SCHEMA=dbo

# ---------- SOURCE (SHAREPOINT TEMPLATE) ----------
ETL_SHAREPOINT_DEMO_SRC_TYPE=sharepoint
ETL_SHAREPOINT_DEMO_SRC_SHAREPOINT_SITE_URL=https://tenant.sharepoint.com/sites/data
ETL_SHAREPOINT_DEMO_SRC_SHAREPOINT_CLIENT_ID=your-client-id
ETL_SHAREPOINT_DEMO_SRC_SHAREPOINT_CLIENT_SECRET=your-client-secret
ETL_SHAREPOINT_DEMO_SRC_SHAREPOINT_TENANT_ID=your-tenant-id

# ---------- SOURCE (REST API TEMPLATE) ----------
ETL_REST_DEMO_SRC_TYPE=rest
ETL_REST_DEMO_SRC_REST_BASE_URL=https://api.example.com/health
ETL_REST_DEMO_SRC_REST_TOKEN_URL=https://api.example.com/oauth/token
ETL_REST_DEMO_SRC_REST_AUTH_TYPE=bearer
ETL_REST_DEMO_SRC_REST_API_KEY=your-api-token

# ---------- DESTINATION (DEFAULT = POSTGRES) ----------
ETL_DEST_DB_TYPE=postgres
ETL_DEST_HOST=postgres
ETL_DEST_PORT=5432
ETL_DEST_DATABASE=dw_db
ETL_DEST_USERNAME=dw_user
ETL_DEST_PASSWORD=dw_password
ETL_DEST_SCHEMA=public

# Exemplo por perfil (sobrescreve defaults)
# ETL_DEFAULT_DEST_HOST=postgres
# ETL_DEFAULT_DEST_PORT=5432
# ETL_DEFAULT_DEST_DATABASE=dw_db
# ETL_DEFAULT_DEST_USERNAME=dw_user
# ETL_DEFAULT_DEST_PASSWORD=dw_password

# ======================================================
# CONNECTIONS PACKAGE - CREDENCIAIS E ORIENTAÇÕES
# ======================================================
# 1) Nunca commitar credenciais reais.
# 2) Use este arquivo só como template e mantenha valores reais em .env local.
# 3) Precedência de configuração nos conectores:
#    defaults -> arquivo (JSON) -> variáveis de ambiente -> config dict -> argumentos explícitos.
# 4) Campos de lista/objeto (ex.: CASSANDRA_HOSTS, NATS_SERVERS, GSHEETS_SERVICE_ACCOUNT_INFO)
#    são melhores via arquivo JSON/YAML local ou config dict em runtime.

# ---------- DW DESTINATION (env_prefix=DW) ----------
DW_HOST=postgres
DW_PORT=5432
DW_DATABASE=dw_db
DW_USERNAME=dw_user
DW_PASSWORD=dw_password

# ---------- SQL SOURCE: POSTGRES (env_prefix=PG) ----------
PG_HOST=postgres.local
PG_PORT=5432
PG_DATABASE=analytics
PG_USERNAME=pg_user
PG_PASSWORD=pg_password

# ---------- SQL SOURCE: MSSQL (env_prefix=MSSQL) ----------
MSSQL_HOST=sqlserver.local
MSSQL_PORT=1433
MSSQL_DATABASE=analytics
MSSQL_USERNAME=sa
MSSQL_PASSWORD=your_strong_password
MSSQL_DRIVER=ODBC Driver 18 for SQL Server
MSSQL_TRUST_SERVER_CERTIFICATE=yes

# ---------- SQL SOURCE: ORACLE (env_prefix=ORACLE) ----------
ORACLE_HOST=oracle.local
ORACLE_PORT=1521
ORACLE_SERVICE_NAME=XE
ORACLE_USERNAME=oracle_user
ORACLE_PASSWORD=oracle_password

# ---------- SQL SOURCE: SQLITE (env_prefix=SQLITE) ----------
SQLITE_DATABASE_PATH=./data/source.db

# ---------- HTTP/REST SOURCE (env_prefix=REST) ----------
REST_BASE_URL=https://api.example.com
REST_TOKEN=api_token_value
REST_TIMEOUT_SECONDS=30
REST_CLIENT_LIBRARY=requests

# ---------- SOAP SOURCE (env_prefix=SOAP) ----------
SOAP_WSDL_URL=https://example.com/service?wsdl
SOAP_USERNAME=soap_user
SOAP_PASSWORD=soap_password

# ---------- FTP SOURCE (env_prefix=FTP) ----------
FTP_HOST=ftp.example.com
FTP_PORT=21
FTP_USERNAME=ftp_user
FTP_PASSWORD=ftp_password
FTP_PASSIVE_MODE=true
FTP_REMOTE_BASE_PATH=/exports
FTP_LAKE_PATH=./lake

# ---------- WEBDAV SOURCE (env_prefix=WEBDAV) ----------
WEBDAV_BASE_URL=https://webdav.example.com
WEBDAV_USERNAME=webdav_user
WEBDAV_PASSWORD=webdav_password

# ---------- SSH/SFTP SOURCE (env_prefix=SSH) ----------
SSH_HOST=sftp.example.com
SSH_PORT=22
SSH_USERNAME=ssh_user
SSH_PASSWORD=ssh_password
# SSH_PRIVATE_KEY_PATH=/home/user/.ssh/id_rsa
SSH_REMOTE_BASE_PATH=/incoming
SSH_LAKE_PATH=./lake

# ---------- MONGODB SOURCE (env_prefix=MONGODB) ----------
MONGODB_HOST=mongodb.example.com
MONGODB_PORT=27017
MONGODB_DATABASE=analytics
MONGODB_USERNAME=mongo_user
MONGODB_PASSWORD=mongo_password
MONGODB_AUTH_SOURCE=admin

# ---------- CASSANDRA SOURCE (env_prefix=CASSANDRA) ----------
# Dica: prefira arquivo JSON/YAML para hosts (lista).
# Exemplo em arquivo: {"hosts": ["cass-1", "cass-2"], "keyspace": "analytics"}
# CASSANDRA_HOSTS=["cass-1","cass-2"]
CASSANDRA_PORT=9042
CASSANDRA_KEYSPACE=analytics
CASSANDRA_USERNAME=cassandra_user
CASSANDRA_PASSWORD=cassandra_password

# ---------- NEO4J SOURCE (env_prefix=NEO4J) ----------
NEO4J_URI=bolt://neo4j.local:7687
NEO4J_USERNAME=neo4j_user
NEO4J_PASSWORD=neo4j_password
NEO4J_DATABASE=neo4j

# ---------- GOOGLE SHEETS SOURCE (env_prefix=GSHEETS) ----------
# GSHEETS_SERVICE_ACCOUNT_INFO é dict; prefira arquivo de config local para este conector.
GSHEETS_SPREADSHEET_ID=your_spreadsheet_id

# ---------- KAFKA SOURCE (env_prefix=KAFKA) ----------
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC=orders
KAFKA_GROUP_ID=etl-consumer
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=false
KAFKA_LAKE_PATH=./lake
KAFKA_MAX_MESSAGES=500
KAFKA_MAX_WAIT_SECONDS=5.0
KAFKA_POLL_TIMEOUT_SECONDS=1.0

# ---------- AMQP SOURCE (env_prefix=AMQP) ----------
AMQP_HOST=rabbitmq.local
AMQP_PORT=5672
AMQP_USERNAME=guest
AMQP_PASSWORD=guest
AMQP_VIRTUAL_HOST=/
AMQP_QUEUE=orders
AMQP_LAKE_PATH=./lake
AMQP_MAX_MESSAGES=500
AMQP_MAX_WAIT_SECONDS=5.0
AMQP_POLL_TIMEOUT_SECONDS=1.0

# ---------- NATS SOURCE (env_prefix=NATS) ----------
# NATS_SERVERS é lista; prefira arquivo JSON/YAML para esse campo.
# NATS_SERVERS=["nats://localhost:4222"]
NATS_SUBJECT=events.orders
NATS_QUEUE_GROUP=etl-workers
NATS_LAKE_PATH=./lake
NATS_MAX_MESSAGES=500
NATS_MAX_WAIT_SECONDS=5.0
NATS_POLL_TIMEOUT_SECONDS=1.0
